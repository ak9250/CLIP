entrypoint: python runway_model.py
python: 3.6
cuda: 10.2
spec:
  gpu: True
  cpu: False
build_steps:
  - apt-get install wget
  - conda install --yes -c pytorch pytorch=1.7.0 torchvision cudatoolkit=10.2
  - pip install runway-python ftfy regex tqdm
  - wget https://openaipublic.azureedge.net/clip/models/40d365715913c9da98579312b702a82c18be219cc2a73407c4526f58eba950af/ViT-B-32.pt -O model.pt
  - wget https://openaipublic.azureedge.net/clip/bpe_simple_vocab_16e6.txt.gz -O bpe_simple_vocab_16e6.txt.gz
  - mkdir data && wget https://www.cs.toronto.edu/~kriz/cifar-100-python.tar.gz && tar -xvzf cifar-100-python.tar.gz -C data
